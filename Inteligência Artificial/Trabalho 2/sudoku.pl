% o size é só para o print final

size(9).

%estado inicial 

estado_inicial(e([v(n(1,1),[1,2,3,4,5,6,7,8,9],_),v(n(1,3),[1,2,3,4,5,6,7,8,9],_),v(n(1,4),[1,2,3,4,5,6,7,8,9],_),v(n(1,5),[1,2,3,4,5,6,7,8,9],_),v(n(1,7),[1,2,3,4,5,6,7,8,9],_),
				v(n(2,1),[1,2,3,4,5,6,7,8,9],_),v(n(2,2),[1,2,3,4,5,6,7,8,9],_),v(n(2,3),[1,2,3,4,5,6,7,8,9],_),v(n(2,5),[1,2,3,4,5,6,7,8,9],_),v(n(2,7),[1,2,3,4,5,6,7,8,9],_),
				v(n(2,8),[1,2,3,4,5,6,7,8,9],_),v(n(2,9),[1,2,3,4,5,6,7,8,9],_),v(n(3,2),[1,2,3,4,5,6,7,8,9],_),v(n(3,3),[1,2,3,4,5,6,7,8,9],_),v(n(3,4),[1,2,3,4,5,6,7,8,9],_), 
				v(n(3,5),[1,2,3,4,5,6,7,8,9],_),v(n(3,6),[1,2,3,4,5,6,7,8,9],_),v(n(3,8),[1,2,3,4,5,6,7,8,9],_),v(n(4,1),[1,2,3,4,5,6,7,8,9],_),v(n(4,2),[1,2,3,4,5,6,7,8,9],_),
				v(n(4,3),[1,2,3,4,5,6,7,8,9],_),v(n(4,4),[1,2,3,4,5,6,7,8,9],_),v(n(4,5),[1,2,3,4,5,6,7,8,9],_),v(n(4,7),[1,2,3,4,5,6,7,8,9],_),v(n(4,8),[1,2,3,4,5,6,7,8,9],_),
				v(n(4,9),[1,2,3,4,5,6,7,8,9],_),v(n(5,1),[1,2,3,4,5,6,7,8,9],_),v(n(5,2),[1,2,3,4,5,6,7,8,9],_),v(n(5,3),[1,2,3,4,5,6,7,8,9],_),v(n(5,4),[1,2,3,4,5,6,7,8,9],_),
				v(n(5,7),[1,2,3,4,5,6,7,8,9],_),v(n(6,2),[1,2,3,4,5,6,7,8,9],_),v(n(6,3),[1,2,3,4,5,6,7,8,9],_),v(n(6,5),[1,2,3,4,5,6,7,8,9],_),v(n(6,6),[1,2,3,4,5,6,7,8,9],_),
				v(n(6,7),[1,2,3,4,5,6,7,8,9],_),v(n(6,8),[1,2,3,4,5,6,7,8,9],_),v(n(6,9),[1,2,3,4,5,6,7,8,9],_),v(n(7,1),[1,2,3,4,5,6,7,8,9],_),v(n(7,2),[1,2,3,4,5,6,7,8,9],_),
				v(n(7,3),[1,2,3,4,5,6,7,8,9],_),v(n(7,5),[1,2,3,4,5,6,7,8,9],_),v(n(7,6),[1,2,3,4,5,6,7,8,9],_),v(n(7,7),[1,2,3,4,5,6,7,8,9],_),v(n(7,8),[1,2,3,4,5,6,7,8,9],_),
				v(n(7,9),[1,2,3,4,5,6,7,8,9],_),v(n(8,3),[1,2,3,4,5,6,7,8,9],_),v(n(8,4),[1,2,3,4,5,6,7,8,9],_),v(n(8,6),[1,2,3,4,5,6,7,8,9],_),v(n(8,7),[1,2,3,4,5,6,7,8,9],_),
				v(n(8,9),[1,2,3,4,5,6,7,8,9],_),v(n(9,1),[1,2,3,4,5,6,7,8,9],_),v(n(9,2),[1,2,3,4,5,6,7,8,9],_),v(n(9,4),[1,2,3,4,5,6,7,8,9],_),v(n(9,5),[1,2,3,4,5,6,7,8,9],_),
				v(n(9,7),[1,2,3,4,5,6,7,8,9],_),v(n(9,8),[1,2,3,4,5,6,7,8,9],_),v(n(9,9),[1,2,3,4,5,6,7,8,9],_)],
				
				[v(n(1,2),[1,2,3,4,5,6,7,8,9],1),v(n(1,6),[1,2,3,4,5,6,7,8,9],8),v(n(1,8),[1,2,3,4,5,6,7,8,9],7),v(n(1,9),[1,2,3,4,5,6,7,8,9],3),v(n(2,4),[1,2,3,4,5,6,7,8,9],5),
				v(n(2,6),[1,2,3,4,5,6,7,8,9],9),v(n(3,1),[1,2,3,4,5,6,7,8,9],7),v(n(3,7),[1,2,3,4,5,6,7,8,9],9),v(n(3,9),[1,2,3,4,5,6,7,8,9],4),v(n(4,6),[1,2,3,4,5,6,7,8,9],4),
				v(n(5,5),[1,2,3,4,5,6,7,8,9],3),v(n(5,6),[1,2,3,4,5,6,7,8,9],5),v(n(5,8),[1,2,3,4,5,6,7,8,9],1),v(n(5,9),[1,2,3,4,5,6,7,8,9],8),v(n(6,1),[1,2,3,4,5,6,7,8,9],8),
				v(n(6,4),[1,2,3,4,5,6,7,8,9],9),v(n(7,4),[1,2,3,4,5,6,7,8,9],7),v(n(8,1),[1,2,3,4,5,6,7,8,9],2),v(n(8,2),[1,2,3,4,5,6,7,8,9],6),v(n(8,5),[1,2,3,4,5,6,7,8,9],4),
				v(n(8,8),[1,2,3,4,5,6,7,8,9],3),v(n(9,3),[1,2,3,4,5,6,7,8,9],5),v(n(9,6),[1,2,3,4,5,6,7,8,9],3)])).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%				

ve_restricoes(Afect):-
	ver_linhas(Afect),
	ver_colunas(Afect).
 

ser_dif([]).
ser_dif([H|T]) :- \+member(H, T), ser_dif(T).

ver_linhas(e(Nafect,[v(n(X,_), _, V)|R])):-
		findall(V1,member(v(n(X,_),_,V1),R),L), 
		ser_dif([V|L]).

ver_colunas(e(Nafect,[v(n(_,Y), _, V)|R])):- 
		findall(V1,member(v(n(_,Y),_,V1),R),L), 
		ser_dif([V|L]).





forCheck(e(Lni,[v(N,D,V)|Li]), e(Lnii,[v(N,D,V)|Li])):-  corta(V,Lni,Lnii).

corta(_,[],[]).
corta(V,[v(N,D,_)|Li], [v(N,D1,_)|Lii]):- delete(D,V,D1), corta(V,Li,Lii).


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%esc(_).
esc(L):-sort(L, L1), esc_a(L1),nl.

esc_a(L):- size(S), esc_l(L, 1, S).

esc_l([H], S, S):- H = v(_,_,X), write(X), nl.

esc_l([H|T], S, S):- H = v(_,_,X), write(X), nl, esc_l(T, 1, S).

esc_l([H|T], I, S):- I<S, I2 is I+1, H = v(_,_,X), write(X),write(' | '),esc_l(T, I2, S).
